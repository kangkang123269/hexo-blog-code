---
title: 手写汇总
tags: [前端, 手写]
categories: [手写汇总]
description: 前端个人错题集
date: 2022-10-19
cover: https://urlify.cn/2Ev2Qz
---

# 手写汇总

### 防抖(debounce)

> 触发高配事件 n 秒内只触发一次，如果 n 秒内再次被触发，则重新计算时间

代码：

```js
function debounce(fn, wait) {
  let timer;
  return function () {
    let _this = this;
    let args = arguments;
    if (timer) {
      clearTimeout(timer);
    }
    timer = setTimeout(() => {
      fn.apply(_this, args);
    }, wait);
  };
}
```

### 节流(throttle)

> 高频事件触发，但在 n 秒只触发一次

#### 使用时间戳实现

```js
function throttle(fn, wait) {
  let time = 0;
  return function () {
    let _this = this;
    let args = arguments;
    let now = Date.now();
    if (now - time > wait) {
      fn.apply(_this, args);
    }
  };
}
```

#### 使用定时器

```js
function thorttle(fn, wait) {
  let timer;
  return function () {
    let _this = this;
    let args = arguments;

    if (!timer) {
      timer = setTimeout(() => {
        timer = null;
        fn.apply(_this, args);
      }, wait);
    }
  };
}
```
